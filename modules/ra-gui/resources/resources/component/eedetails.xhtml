<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:composite="http://java.sun.com/jsf/composite" 
    xmlns:component="http://java.sun.com/jsf/composite/component"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:fn="http://java.sun.com/jsp/jstl/functions"
    xmlns:t="http://myfaces.apache.org/tomahawk">
    <ui:remove>
    <!--
    /*************************************************************************
     *                                                                       *
     *  EJBCA: The OpenSource Certificate Authority                          *
     *                                                                       *
     *  This software is free software; you can redistribute it and/or       *
     *  modify it under the terms of the GNU Lesser General Public           *
     *  License as published by the Free Software Foundation; either         *
     *  version 2.1 of the License, or any later version.                    *
     *                                                                       *
     *  See terms of license at gnu.org.                                     *
     *                                                                       *
     *************************************************************************/

     version: $Id$
     -->
    </ui:remove>
    <f:view locale="#{raLocaleBean.locale}" encoding="UTF-8">
    <h:head dir="#{raLocaleBean.direction}"/>
    <h:body>
        <composite:interface>
            <composite:attribute name="raEndEntityDetails" required="true"/>
            <composite:attribute name="editMode" required="false" default="false"/>
            <composite:attribute name="styleLabel" required="false" default="pure-u-lg-1-3"/>
            <composite:attribute name="styleValue" required="false" default="pure-u-lg-2-3"/>
            <composite:attribute name="styleFull" required="false" default="pure-u-lg-1"/>
            <composite:attribute name="styleOdd" required="false" default="row-odd"/>
            <composite:attribute name="styleEven" required="false" default="row-even"/>
        </composite:interface>

        <composite:implementation>
            <h:outputLabel for="username" value="#{msg.component_eedetails_field_username}"
                styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputText id="username" value="#{cc.attrs.raEndEntityDetails.username}"
                styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>

            <h:outputText styleClass="#{cc.attrs.styleFull} pre" value=" "/>

            <h:outputLabel for="created" value="#{msg.component_eedetails_field_created}"
                styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputText id="created" value="#{cc.attrs.raEndEntityDetails.created}"
                styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputLabel for="modified" value="#{msg.component_eedetails_field_modified}"
                styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputText id="modified" value="#{cc.attrs.raEndEntityDetails.modified}"
                styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputLabel for="status" value="#{msg.component_eedetails_field_status}"
                styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:panelGroup styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}">
                <h:outputText id="status" value="#{cc.attrs.raEndEntityDetails.status}"/>
            </h:panelGroup>

            <h:outputText styleClass="#{cc.attrs.styleFull} pre" value=" "/>

            <h:outputLabel for="eep" value="#{msg.component_eedetails_field_eep}"
                styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputText id="eep" value="#{cc.attrs.raEndEntityDetails.eepName}"
                styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputLabel for="cp" value="#{msg.component_eedetails_field_cp}"
                styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputText id="cp" value="#{cc.attrs.raEndEntityDetails.cpName}"
                styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputLabel for="caname" value="#{msg.component_eedetails_field_caname}"
                styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputText id="caname" value="#{cc.attrs.raEndEntityDetails.caName}"
                styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>

            <h:outputText styleClass="#{cc.attrs.styleFull} pre" value=" "/>

            <h:outputLabel for="tokentype" value="#{msg.component_eedetails_field_tokentype}"
                styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputText id="tokentype" value="#{cc.attrs.raEndEntityDetails.tokenType}"
                styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputLabel for="keyrecoverable" value="#{msg.component_eedetails_field_keyrecoverable}" rendered="#{!cc.attrs.raEndEntityDetails.tokenTypeUserGenerated}"
                styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputText id="keyrecoverable" rendered="#{!cc.attrs.raEndEntityDetails.tokenTypeUserGenerated}"
                value="#{cc.attrs.raEndEntityDetails.keyRecoverable ? msg.component_eedetails_field_keyrecoverable_true : msg.component_eedetails_field_keyrecoverable_false}"
                styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>

            <h:outputText styleClass="#{cc.attrs.styleFull} pre" value=" "/>

            <h:panelGroup styleClass="#{cc.attrs.styleFull}" rendered="#{not empty cc.attrs.raEndEntityDetails.subjectDistinguishedName.fieldInstances}">
                <h3><h:outputText value="#{msg.component_eedetails_header_subjectdn}"/></h3>
                <ui:repeat id="subjectDistinguishedName" value="#{cc.attrs.raEndEntityDetails.subjectDistinguishedName.fieldInstances}" var="instance">
                    <h:panelGroup styleClass="#{cc.attrs.raEndEntityDetails.evenTwice ? cc.attrs.styleEven : cc.attrs.styleOdd}">
                        <h:outputLabel for="subjectDistinguishedNameFieldGroup" value="#{msg['subject_dn_'.concat(instance.name)]}" styleClass="#{cc.attrs.styleLabel}"/>
                        <h:panelGroup id="subjectDistinguishedNameFieldGroup" styleClass="#{cc.attrs.styleValue}">
                            <h:outputText rendered="#{!cc.attrs.editMode}" value="#{instance.value} " styleClass="pre"/>
                            <h:inputText rendered="#{cc.attrs.editMode}" id="subjectDistinguishedNameField" value="#{instance.value}" disabled="#{!instance.modifiable}"
                                styleClass="#{cc.attrs.styleFull}">
                                <f:validator validatorId="extendedRegexValidator"/>
                                <f:attribute name="pattern" value="#{instance.regexPattern}"/>
                            </h:inputText>
                            <h:message rendered="#{cc.attrs.editMode}" for="subjectDistinguishedNameField"/>
                        </h:panelGroup>
                    </h:panelGroup>
                </ui:repeat>
            </h:panelGroup>

            <h:outputText styleClass="#{cc.attrs.styleFull} pre" value=" "/>

            <h:panelGroup styleClass="#{cc.attrs.styleFull}" rendered="#{not empty cc.attrs.raEndEntityDetails.subjectAlternativeName.fieldInstances}">
                <h3><h:outputText value="#{msg.component_eedetails_header_subjectan}"/></h3>
                <ui:repeat id="subjectAlternativeName" value="#{cc.attrs.raEndEntityDetails.subjectAlternativeName.fieldInstances}" var="instance">
                    <h:panelGroup styleClass="#{cc.attrs.raEndEntityDetails.evenTwice ? cc.attrs.styleEven : cc.attrs.styleOdd}">
                        <h:outputLabel for="subjectAlternativeNameFieldGroup" value="#{msg['subject_alternative_name_'.concat(instance.name)]}" styleClass="#{cc.attrs.styleLabel}"/>
                        <h:panelGroup id="subjectAlternativeNameFieldGroup" styleClass="#{cc.attrs.styleValue}">
                            <h:outputText rendered="#{!cc.attrs.editMode}" value="#{instance.value} " styleClass="pre"/>
                            <h:inputText rendered="#{cc.attrs.editMode}" id="subjectAltNameField" value="#{instance.value}" disabled="#{!instance.modifiable}"
                                styleClass="#{cc.attrs.styleFull}">
                                <f:validator validatorId="extendedRegexValidator"/>
                                <f:attribute name="pattern" value="#{instance.regexPattern}"/>
                            </h:inputText>
                            <h:message rendered="#{cc.attrs.editMode}" for="subjectAltNameField"/>
                        </h:panelGroup>
                    </h:panelGroup>
                </ui:repeat>
            </h:panelGroup>

            <h:outputText styleClass="#{cc.attrs.styleFull} pre" value=" "/>

            <h:panelGroup styleClass="#{cc.attrs.styleFull}" rendered="#{not empty cc.attrs.raEndEntityDetails.subjectDirectoryAttributes.fieldInstances}">
                <h3><h:outputText value="#{msg.component_eedetails_header_subjectda}"/></h3>
                <ui:repeat id="subjectDirectoryAttributes" value="#{cc.attrs.raEndEntityDetails.subjectDirectoryAttributes.fieldInstances}" var="instance">
                    <h:panelGroup styleClass="#{cc.attrs.raEndEntityDetails.evenTwice ? cc.attrs.styleEven : cc.attrs.styleOdd}">
                        <h:outputLabel for="subjectDirectoryAttributesFieldGroup" value="#{msg['subject_directory_attributes_'.concat(instance.name)]}" styleClass="#{cc.attrs.styleLabel}"/>
                        <h:panelGroup id="subjectDirectoryAttributesFieldGroup" styleClass="#{cc.attrs.styleValue}">
                            <h:outputText rendered="#{!cc.attrs.editMode}" value="#{instance.value} " styleClass="pre"/>
                            <h:inputText rendered="#{cc.attrs.editMode}" id="subjectDirectoryAttributesField" value="#{instance.value}" disabled="#{!instance.modifiable}"
                                styleClass="#{cc.attrs.styleFull}">
                                <f:validator validatorId="extendedRegexValidator"/>
                                <f:attribute name="pattern" value="#{instance.regexPattern}"/>
                            </h:inputText>
                            <h:message rendered="#{cc.attrs.editMode}" for="subjectDirectoryAttributesField"/>
                        </h:panelGroup>
                    </h:panelGroup>
                </ui:repeat>
            </h:panelGroup>

        </composite:implementation>
    </h:body>
    </f:view>
</html>
